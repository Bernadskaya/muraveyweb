/*! Magnific Popup - v0.9.5 - 2013-08-21
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
(function(aO){var az,aK,aF,aE,aS,aB,aA,aH="Close",aQ="BeforeClose",aP="AfterClose",ay="BeforeAppend",aD="MarkupParse",aN="Open",aG="Change",aM="mfp",ax="."+aM,aL="mfp-ready",ap="mfp-removing",au="mfp-prevent-close",aw=function(){},aR=!!window.jQuery,aj=aO(window),av=function(b,a){az.ev.on(aM+b+ax,a)},aI=function(d,c,f,e){var b=document.createElement("div");return b.className="mfp-"+d,f&&(b.innerHTML=f),e?c&&c.appendChild(b):(b=aO(b),c&&b.appendTo(c)),b},aa=function(a,b){az.ev.triggerHandler(aM+a,b),az.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),az.st.callbacks[a]&&az.st.callbacks[a].apply(az,aO.isArray(b)?b:[b]))},an=function(){(az.st.focus?az.content.find(az.st.focus).eq(0):az.wrap).focus()},ab=function(a){return a===aA&&az.currTemplate.closeBtn||(az.currTemplate.closeBtn=aO(az.st.closeMarkup.replace("%title%",az.st.tClose)),aA=a),az.currTemplate.closeBtn},ad=function(){aO.magnificPopup.instance||(az=new aw,az.init(),aO.magnificPopup.instance=az)},aT=function(a){if(!aO(a).hasClass(au)){var c=az.st.closeOnContentClick,b=az.st.closeOnBgClick;if(c&&b){return !0}if(!az.content||aO(a).hasClass("mfp-close")||az.preloader&&a===az.preloader[0]){return !0}if(a===az.content[0]||aO.contains(az.content[0],a)){if(c){return !0}}else{if(b&&aO.contains(document,a)){return !0}}return !1}},ae=function(){var b=document.createElement("p").style,a=["ms","O","Moz","Webkit"];if(void 0!==b.transition){return !0}for(;a.length;){if(a.pop()+"Transition" in b){return !0}}return !1};aw.prototype={constructor:aw,init:function(){var a=navigator.appVersion;az.isIE7=-1!==a.indexOf("MSIE 7."),az.isIE8=-1!==a.indexOf("MSIE 8."),az.isLowIE=az.isIE7||az.isIE8,az.isAndroid=/android/gi.test(a),az.isIOS=/iphone|ipad|ipod/gi.test(a),az.supportsTransition=ae(),az.probablyMobile=az.isAndroid||az.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),aF=aO(document.body),aE=aO(document),az.popupsCache={}},open:function(h){var b;if(h.isObj===!1){az.items=h.items.toArray(),az.index=0;var p,r=h.items;for(b=0;r.length>b;b++){if(p=r[b],p.parsed&&(p=p.el[0]),p===h.el[0]){az.index=b;break}}}else{az.items=aO.isArray(h.items)?h.items:[h.items],az.index=h.index||0}if(az.isOpen){return az.updateItemHTML(),void 0}az.types=[],aB="",az.ev=h.mainEl&&h.mainEl.length?h.mainEl.eq(0):aE,h.key?(az.popupsCache[h.key]||(az.popupsCache[h.key]={}),az.currTemplate=az.popupsCache[h.key]):az.currTemplate={},az.st=aO.extend(!0,{},aO.magnificPopup.defaults,h),az.fixedContentPos="auto"===az.st.fixedContentPos?!az.probablyMobile:az.st.fixedContentPos,az.st.modal&&(az.st.closeOnContentClick=!1,az.st.closeOnBgClick=!1,az.st.showCloseBtn=!1,az.st.enableEscapeKey=!1),az.bgOverlay||(az.bgOverlay=aI("bg").on("click"+ax,function(){az.close()}),az.wrap=aI("wrap").attr("tabindex",-1).on("click"+ax,function(a){aT(a.target)&&az.close()}),az.container=aI("container",az.wrap)),az.contentContainer=aI("content"),az.st.preloader&&(az.preloader=aI("preloader",az.container,az.st.tLoading));var f=aO.magnificPopup.modules;for(b=0;f.length>b;b++){var o=f[b];o=o.charAt(0).toUpperCase()+o.slice(1),az["init"+o].call(az)}aa("BeforeOpen"),az.st.showCloseBtn&&(az.st.closeBtnInside?(av(aD,function(d,c,a,g){a.close_replaceWith=ab(g.type)}),aB+=" mfp-close-btn-in"):az.wrap.append(ab())),az.st.alignTop&&(aB+=" mfp-align-top"),az.fixedContentPos?az.wrap.css({overflow:az.st.overflowY,overflowX:"hidden",overflowY:az.st.overflowY}):az.wrap.css({top:aj.scrollTop(),position:"absolute"}),(az.st.fixedBgPos===!1||"auto"===az.st.fixedBgPos&&!az.fixedContentPos)&&az.bgOverlay.css({height:aE.height(),position:"absolute"}),az.st.enableEscapeKey&&aE.on("keyup"+ax,function(a){27===a.keyCode&&az.close()}),aj.on("resize"+ax,function(){az.updateSize()}),az.st.closeOnContentClick||(aB+=" mfp-auto-cursor"),aB&&az.wrap.addClass(aB);var k=az.wH=aj.height(),q={};if(az.fixedContentPos&&az._hasScrollBar(k)){var e=az._getScrollbarSize();e&&(q.paddingRight=e)}az.fixedContentPos&&(az.isIE7?aO("body, html").css("overflow","hidden"):q.overflow="hidden");var j=az.st.mainClass;az.isIE7&&(j+=" mfp-ie7"),j&&az._addClassToMFP(j),az.updateItemHTML(),aa("BuildControls"),aO("html").css(q),az.bgOverlay.add(az.wrap).prependTo(document.body),az._lastFocusedEl=document.activeElement,setTimeout(function(){az.content?(az._addClassToMFP(aL),an()):az.bgOverlay.addClass(aL),aE.on("focusin"+ax,function(a){return a.target===az.wrap[0]||aO.contains(az.wrap[0],a.target)?void 0:(an(),!1)})},16),az.isOpen=!0,az.updateSize(k),aa(aN)},close:function(){az.isOpen&&(aa(aQ),az.isOpen=!1,az.st.removalDelay&&!az.isLowIE&&az.supportsTransition?(az._addClassToMFP(ap),setTimeout(function(){az._close()},az.st.removalDelay)):az._close())},_close:function(){aa(aH);var a=ap+" "+aL+" ";if(az.bgOverlay.detach(),az.wrap.detach(),az.container.empty(),az.st.mainClass&&(a+=az.st.mainClass+" "),az._removeClassFromMFP(a),az.fixedContentPos){var b={paddingRight:""};az.isIE7?aO("body, html").css("overflow",""):b.overflow="",aO("html").css(b)}aE.off("keyup"+ax+" focusin"+ax),az.ev.off(ax),az.wrap.attr("class","mfp-wrap").removeAttr("style"),az.bgOverlay.attr("class","mfp-bg"),az.container.attr("class","mfp-container"),!az.st.showCloseBtn||az.st.closeBtnInside&&az.currTemplate[az.currItem.type]!==!0||az.currTemplate.closeBtn&&az.currTemplate.closeBtn.detach(),az._lastFocusedEl&&aO(az._lastFocusedEl).focus(),az.currItem=null,az.content=null,az.currTemplate=null,az.prevHeight=0,aa(aP)},updateSize:function(b){if(az.isIOS){var a=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*a;az.wrap.css("height",c),az.wH=c}else{az.wH=b||aj.height()}az.fixedContentPos||az.wrap.css("height",az.wH),aa("Resize")},updateItemHTML:function(){var a=az.items[az.index];az.contentContainer.detach(),az.content&&az.content.detach(),a.parsed||(a=az.parseEl(az.index));var d=a.type;if(aa("BeforeChange",[az.currItem?az.currItem.type:"",d]),az.currItem=a,!az.currTemplate[d]){var c=az.st[d]?az.st[d].markup:!1;aa("FirstMarkupParse",c),az.currTemplate[d]=c?aO(c):!0}aS&&aS!==a.type&&az.container.removeClass("mfp-"+aS+"-holder");var b=az["get"+d.charAt(0).toUpperCase()+d.slice(1)](a,az.currTemplate[d]);az.appendContent(b,d),a.preloaded=!0,aa(aG,a),aS=a.type,az.container.prepend(az.contentContainer),aa("AfterChange")},appendContent:function(b,a){az.content=b,b?az.st.showCloseBtn&&az.st.closeBtnInside&&az.currTemplate[a]===!0?az.content.find(".mfp-close").length||az.content.append(ab()):az.content=b:az.content="",aa(ay),az.container.addClass("mfp-"+a+"-holder"),az.contentContainer.append(az.content)},parseEl:function(c){var f=az.items[c],e=f.type;if(f=f.tagName?{el:aO(f)}:{data:f,src:f.src},f.el){for(var b=az.types,d=0;b.length>d;d++){if(f.el.hasClass("mfp-"+b[d])){e=b[d];break}}f.src=f.el.attr("data-mfp-src"),f.src||(f.src=f.el.attr("href"))}return f.type=e||az.st.type||"inline",f.index=c,f.parsed=!0,az.items[c]=f,aa("ElementParse",f),az.items[c]},addGroup:function(b,a){var d=function(e){e.mfpEl=this,az._openClick(e,b,a)};a||(a={});var c="click.magnificPopup";a.mainEl=b,a.items?(a.isObj=!0,b.off(c).on(c,d)):(a.isObj=!1,a.delegate?b.off(c).on(c,a.delegate,d):(a.items=b,b.off(c).on(c,d)))},_openClick:function(c,f,e){var b=void 0!==e.midClick?e.midClick:aO.magnificPopup.defaults.midClick;if(b||2!==c.which&&!c.ctrlKey&&!c.metaKey){var d=void 0!==e.disableOn?e.disableOn:aO.magnificPopup.defaults.disableOn;if(d){if(aO.isFunction(d)){if(!d.call(az)){return !0}}else{if(d>aj.width()){return !0}}}c.type&&(c.preventDefault(),az.isOpen&&c.stopPropagation()),e.el=aO(c.mfpEl),e.delegate&&(e.items=f.find(e.delegate)),az.open(e)}},updateStatus:function(a,c){if(az.preloader){aK!==a&&az.container.removeClass("mfp-s-"+aK),c||"loading"!==a||(c=az.st.tLoading);var b={status:a,text:c};aa("UpdateStatus",b),a=b.status,c=b.text,az.preloader.html(c),az.preloader.find("a").on("click",function(d){d.stopImmediatePropagation()}),az.container.addClass("mfp-s-"+a),aK=a}},_addClassToMFP:function(a){az.bgOverlay.addClass(a),az.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),az.wrap.removeClass(a)},_hasScrollBar:function(a){return(az.isIE7?aE.height():document.body.scrollHeight)>(a||aj.height())},_parseMarkup:function(b,a,d){var c;d.data&&(a=aO.extend(d.data,a)),aa(aD,[b,a,d]),aO.each(a,function(h,g){if(void 0===g||g===!1){return !0}if(c=h.split("_"),c.length>1){var j=b.find(ax+"-"+c[0]);if(j.length>0){var f=c[1];"replaceWith"===f?j[0]!==g[0]&&j.replaceWith(g):"img"===f?j.is("img")?j.attr("src",g):j.replaceWith('<img src="'+g+'" class="'+j.attr("class")+'" />'):j.attr(c[1],g)}}else{b.find(ax+"-"+h).html(g)}})},_getScrollbarSize:function(){if(void 0===az.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),az.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return az.scrollbarSize}},aO.magnificPopup={instance:null,proto:aw.prototype,modules:[],open:function(b,a){return ad(),b||(b={}),b.isObj=!0,b.index=a||0,this.instance.open(b)},close:function(){return aO.magnificPopup.instance.close()},registerModule:function(b,a){a.options&&(aO.magnificPopup.defaults[b]=a.options),aO.extend(this.proto,a.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},aO.fn.magnificPopup=function(c){ad();var f=aO(this);if("string"==typeof c){if("open"===c){var e,b=aR?f.data("magnificPopup"):f[0].magnificPopup,d=parseInt(arguments[1],10)||0;b.items?e=b.items[d]:(e=f,b.delegate&&(e=e.find(b.delegate)),e=e.eq(d)),az._openClick({mfpEl:e},f,b)}else{az.isOpen&&az[c].apply(az,Array.prototype.slice.call(arguments,1))}}else{aR?f.data("magnificPopup",c):f[0].magnificPopup=c,az.addGroup(f,c)}return f};var at,ag,aq,ak="inline",ah=function(){aq&&(ag.after(aq.addClass(at)).detach(),aq=null)};aO.magnificPopup.registerModule(ak,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){az.types.push(ak),av(aH+"."+ak,function(){ah()})},getInline:function(c,f){if(ah(),c.src){var e=az.st.inline,b=aO(c.src);if(b.length){var d=b[0].parentNode;d&&d.tagName&&(ag||(at=e.hiddenClass,ag=aI(at),at="mfp-"+at),aq=b.after(ag).detach().removeClass(at)),az.updateStatus("ready")}else{az.updateStatus("error",e.tNotFound),b=aO("<div>")}return c.inlineElement=b,b}return az.updateStatus("ready"),az._parseMarkup(f,{},c),f}}});var ar,am="ajax",aJ=function(){ar&&aF.removeClass(ar)};aO.magnificPopup.registerModule(am,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){az.types.push(am),ar=az.st.ajax.cursor,av(aH+"."+am,function(){aJ(),az.req&&az.req.abort()})},getAjax:function(a){ar&&aF.addClass(ar),az.updateStatus("loading");var b=aO.extend({url:a.src,success:function(f,e,c){var d={data:f,xhr:c};aa("ParseAjax",d),az.appendContent(aO(d.data),am),a.finished=!0,aJ(),an(),setTimeout(function(){az.wrap.addClass(aL)},16),az.updateStatus("ready"),aa("AjaxContentAdded")},error:function(){aJ(),a.finished=a.loadError=!0,az.updateStatus("error",az.st.ajax.tError.replace("%url%",a.src))}},az.st.ajax.settings);return az.req=aO.ajax(b),""}}});var af,V=function(a){if(a.data&&void 0!==a.data.title){return a.data.title}var b=az.st.image.titleSrc;if(b){if(aO.isFunction(b)){return b.call(az,a)}if(a.el){return a.el.attr(b)||""}}return""};aO.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var b=az.st.image,a=".image";az.types.push("image"),av(aN+a,function(){"image"===az.currItem.type&&b.cursor&&aF.addClass(b.cursor)}),av(aH+a,function(){b.cursor&&aF.removeClass(b.cursor),aj.off("resize"+ax)}),av("Resize"+a,az.resizeImage),az.isLowIE&&av("AfterChange",az.resizeImage)},resizeImage:function(){var b=az.currItem;if(b&&b.img&&az.st.image.verticalFit){var a=0;az.isLowIE&&(a=parseInt(b.img.css("padding-top"),10)+parseInt(b.img.css("padding-bottom"),10)),b.img.css("max-height",az.wH-a)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,af&&clearInterval(af),a.isCheckingImgSize=!1,aa("ImageHasSize",a),a.imgHidden&&(az.content&&az.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(b){var a=0,d=b.img[0],c=function(e){af&&clearInterval(af),af=setInterval(function(){return d.naturalWidth>0?(az._onImageHasSize(b),void 0):(a>200&&clearInterval(af),a++,3===a?c(10):40===a?c(50):100===a&&c(500),void 0)},e)};c(1)},getImage:function(e,k){var h=0,d=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===az.currItem&&(az._onImageHasSize(e),az.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,aa("ImageLoadComplete")):(h++,200>h?setTimeout(d,100):g()))},g=function(){e&&(e.img.off(".mfploader"),e===az.currItem&&(az._onImageHasSize(e),az.updateStatus("error",f.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},f=az.st.image,b=k.find(".mfp-img");if(b.length){var j=document.createElement("img");j.className="mfp-img",e.img=aO(j).on("load.mfploader",d).on("error.mfploader",g),j.src=e.src,b.is("img")&&(e.img=e.img.clone()),e.img[0].naturalWidth>0&&(e.hasSize=!0)}return az._parseMarkup(k,{title:V(e),img_replaceWith:e.img},e),az.resizeImage(),e.hasSize?(af&&clearInterval(af),e.loadError?(k.addClass("mfp-loading"),az.updateStatus("error",f.tError.replace("%url%",e.src))):(k.removeClass("mfp-loading"),az.updateStatus("ready")),k):(az.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,k.addClass("mfp-loading"),az.findImageSize(e)),k)}}});var ac,J=function(){return void 0===ac&&(ac=void 0!==document.createElement("p").style.MozTransform),ac};aO.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var g=az.st.zoom,c=".zoom";if(g.enabled&&az.supportsTransition){var j,h,b=g.duration,f=function(l){var k=l.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),p="all "+g.duration/1000+"s "+g.easing,m={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},e="transition";return m["-webkit-"+e]=m["-moz-"+e]=m["-o-"+e]=m[e]=p,k.css(m),k},d=function(){az.content.css("visibility","visible")};av("BuildControls"+c,function(){if(az._allowZoom()){if(clearTimeout(j),az.content.css("visibility","hidden"),image=az._getItemToZoom(),!image){return d(),void 0}h=f(image),h.css(az._getOffset()),az.wrap.append(h),j=setTimeout(function(){h.css(az._getOffset(!0)),j=setTimeout(function(){d(),setTimeout(function(){h.remove(),image=h=null,aa("ZoomAnimationEnded")},16)},b)},16)}}),av(aQ+c,function(){if(az._allowZoom()){if(clearTimeout(j),az.st.removalDelay=b,!image){if(image=az._getItemToZoom(),!image){return}h=f(image)}h.css(az._getOffset(!0)),az.wrap.append(h),az.content.css("visibility","hidden"),setTimeout(function(){h.css(az._getOffset())},16)}}),av(aH+c,function(){az._allowZoom()&&(d(),h&&h.remove())})}},_allowZoom:function(){return"image"===az.currItem.type},_getItemToZoom:function(){return az.currItem.hasSize?az.currItem.img:!1},_getOffset:function(c){var g;g=c?az.currItem.img:az.st.zoom.opener(az.currItem.el||az.currItem);var f=g.offset(),b=parseInt(g.css("padding-top"),10),e=parseInt(g.css("padding-bottom"),10);f.top-=aO(window).scrollTop()-b;var d={width:g.width(),height:(aR?g.innerHeight():g[0].offsetHeight)-e-b};return J()?d["-moz-transform"]=d.transform="translate("+f.left+"px,"+f.top+"px)":(d.left=f.left,d.top=f.top),d}}});var aC="iframe",ao="//about:blank",ai=function(b){if(az.currTemplate[aC]){var a=az.currTemplate[aC].find("iframe");a.length&&(b||(a[0].src=ao),az.isIE8&&a.css("display",b?"block":"none"))}};aO.magnificPopup.registerModule(aC,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){az.types.push(aC),av("BeforeChange",function(c,b,a){b!==a&&(b===aC?ai():a===aC&&ai(!0))}),av(aH+"."+aC,function(){ai()})},getIframe:function(c,f){var e=c.src,b=az.st.iframe;aO.each(b.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var d={};return b.srcAction&&(d[b.srcAction]=e),az._parseMarkup(f,d,c),az.updateStatus("ready"),f}}});var Q=function(b){var a=az.items.length;return b>a-1?b-a:0>b?a+b:b},X=function(c,b,a){return c.replace("%curr%",b+1).replace("%total%",a)};aO.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=az.st.gallery,d=".mfp-gallery",b=Boolean(aO.fn.mfpFastClick);return az.direction=!0,c&&c.enabled?(aB+=" mfp-gallery",av(aN+d,function(){c.navigateByImgClick&&az.wrap.on("click"+d,".mfp-img",function(){return az.items.length>1?(az.next(),!1):void 0}),aE.on("keydown"+d,function(a){37===a.keyCode?az.prev():39===a.keyCode&&az.next()})}),av("UpdateStatus"+d,function(f,a){a.text&&(a.text=X(a.text,az.currItem.index,az.items.length))}),av(aD+d,function(h,j,i,f){var g=az.items.length;i.counter=g>1?X(c.tCounter,f.index,g):""}),av("BuildControls"+d,function(){if(az.items.length>1&&c.arrows&&!az.arrowLeft){var g=c.arrowMarkup,f=az.arrowLeft=aO(g.replace("%title%",c.tPrev).replace("%dir%","left")).addClass(au),e=az.arrowRight=aO(g.replace("%title%",c.tNext).replace("%dir%","right")).addClass(au),a=b?"mfpFastClick":"click";f[a](function(){az.prev()}),e[a](function(){az.next()}),az.isIE7&&(aI("b",f[0],!1,!0),aI("a",f[0],!1,!0),aI("b",e[0],!1,!0),aI("a",e[0],!1,!0)),az.container.append(f.add(e))}}),av(aG+d,function(){az._preloadTimeout&&clearTimeout(az._preloadTimeout),az._preloadTimeout=setTimeout(function(){az.preloadNearbyImages(),az._preloadTimeout=null},16)}),av(aH+d,function(){aE.off(d),az.wrap.off("click"+d),az.arrowLeft&&b&&az.arrowLeft.add(az.arrowRight).destroyMfpFastClick(),az.arrowRight=az.arrowLeft=null}),void 0):!1},next:function(){az.direction=!0,az.index=Q(az.index+1),az.updateItemHTML()},prev:function(){az.direction=!1,az.index=Q(az.index-1),az.updateItemHTML()},goTo:function(a){az.direction=a>=az.index,az.index=a,az.updateItemHTML()},preloadNearbyImages:function(){var b,a=az.st.gallery.preload,d=Math.min(a[0],az.items.length),c=Math.min(a[1],az.items.length);for(b=1;(az.direction?c:d)>=b;b++){az._preloadItem(az.index+b)}for(b=1;(az.direction?d:c)>=b;b++){az._preloadItem(az.index-b)}},_preloadItem:function(a){if(a=Q(a),!az.items[a].preloaded){var b=az.items[a];b.parsed||(b=az.parseEl(a)),aa("LazyLoad",b),"image"===b.type&&(b.img=aO('<img class="mfp-img" />').on("load.mfploader",function(){b.hasSize=!0}).on("error.mfploader",function(){b.hasSize=!0,b.loadError=!0,aa("LazyLoadError",b)}).attr("src",b.src)),b.preloaded=!0}}}});var al="retina";aO.magnificPopup.registerModule(al,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(b){return"@2x"+b})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var b=az.st.retina,a=b.ratio;a=isNaN(a)?a():a,a>1&&(av("ImageHasSize."+al,function(d,c){c.img.css({"max-width":c.img[0].naturalWidth/a,width:"100%"})}),av("ElementParse."+al,function(c,d){d.src=b.replaceSrc(d,a)}))}}}}),function(){var d=1000,c="ontouchstart" in window,f=function(){aj.off("touchmove"+b+" touchend"+b)},e="mfpFastClick",b="."+e;aO.fn.mfpFastClick=function(a){return aO(this).each(function(){var j,i=aO(this);if(c){var g,o,n,h,m,k;i.on("touchstart"+b,function(l){h=!1,k=1,m=l.originalEvent?l.originalEvent.touches[0]:l.touches[0],o=m.clientX,n=m.clientY,aj.on("touchmove"+b,function(p){m=p.originalEvent?p.originalEvent.touches:p.touches,k=m.length,m=m[0],(Math.abs(m.clientX-o)>10||Math.abs(m.clientY-n)>10)&&(h=!0,f())}).on("touchend"+b,function(p){f(),h||k>1||(j=!0,p.preventDefault(),clearTimeout(g),g=setTimeout(function(){j=!1},d),a())})})}i.on("click"+b,function(){j||a()})})},aO.fn.destroyMfpFastClick=function(){aO(this).off("touchstart"+b+" click"+b),c&&aj.off("touchmove"+b+" touchend"+b)}}()})(window.jQuery||window.Zepto);